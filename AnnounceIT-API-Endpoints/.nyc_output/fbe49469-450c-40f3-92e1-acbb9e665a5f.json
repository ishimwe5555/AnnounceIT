{"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\index.js":{"path":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\index.js","statementMap":{"0":{"start":{"line":3,"column":24},"end":{"line":3,"column":328}},"1":{"start":{"line":3,"column":99},"end":{"line":3,"column":154}},"2":{"start":{"line":3,"column":133},"end":{"line":3,"column":151}},"3":{"start":{"line":3,"column":164},"end":{"line":3,"column":326}},"4":{"start":{"line":3,"column":198},"end":{"line":3,"column":323}},"5":{"start":{"line":3,"column":329},"end":{"line":3,"column":349}},"6":{"start":{"line":5,"column":15},"end":{"line":5,"column":58}},"7":{"start":{"line":7,"column":12},"end":{"line":7,"column":60}},"8":{"start":{"line":9,"column":20},"end":{"line":9,"column":76}},"9":{"start":{"line":11,"column":39},"end":{"line":11,"column":95}},"10":{"start":{"line":13,"column":38},"end":{"line":13,"column":85}},"11":{"start":{"line":13,"column":73},"end":{"line":13,"column":85}},"12":{"start":{"line":13,"column":98},"end":{"line":13,"column":111}},"13":{"start":{"line":13,"column":113},"end":{"line":13,"column":194}},"14":{"start":{"line":13,"column":178},"end":{"line":13,"column":191}},"15":{"start":{"line":13,"column":195},"end":{"line":13,"column":208}},"16":{"start":{"line":15,"column":40},"end":{"line":15,"column":82}},"17":{"start":{"line":15,"column":69},"end":{"line":15,"column":80}},"18":{"start":{"line":15,"column":83},"end":{"line":15,"column":189}},"19":{"start":{"line":15,"column":161},"end":{"line":15,"column":187}},"20":{"start":{"line":15,"column":202},"end":{"line":15,"column":228}},"21":{"start":{"line":15,"column":230},"end":{"line":15,"column":285}},"22":{"start":{"line":15,"column":261},"end":{"line":15,"column":283}},"23":{"start":{"line":15,"column":299},"end":{"line":15,"column":301}},"24":{"start":{"line":15,"column":331},"end":{"line":15,"column":387}},"25":{"start":{"line":15,"column":389},"end":{"line":15,"column":669}},"26":{"start":{"line":15,"column":412},"end":{"line":15,"column":667}},"27":{"start":{"line":15,"column":477},"end":{"line":15,"column":549}},"28":{"start":{"line":15,"column":551},"end":{"line":15,"column":665}},"29":{"start":{"line":15,"column":589},"end":{"line":15,"column":630}},"30":{"start":{"line":15,"column":640},"end":{"line":15,"column":663}},"31":{"start":{"line":15,"column":670},"end":{"line":15,"column":694}},"32":{"start":{"line":15,"column":695},"end":{"line":15,"column":733}},"33":{"start":{"line":15,"column":708},"end":{"line":15,"column":731}},"34":{"start":{"line":15,"column":734},"end":{"line":15,"column":748}},"35":{"start":{"line":17,"column":10},"end":{"line":17,"column":36}},"36":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}},"37":{"start":{"line":19,"column":0},"end":{"line":19,"column":43}},"38":{"start":{"line":20,"column":0},"end":{"line":20,"column":59}},"39":{"start":{"line":21,"column":11},"end":{"line":21,"column":35}},"40":{"start":{"line":22,"column":0},"end":{"line":24,"column":3}},"41":{"start":{"line":23,"column":2},"end":{"line":23,"column":58}},"42":{"start":{"line":25,"column":0},"end":{"line":25,"column":21}}},"fnMap":{"0":{"name":"_typeof","decl":{"start":{"line":3,"column":9},"end":{"line":3,"column":16}},"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":351}},"line":3},"1":{"name":"_typeof","decl":{"start":{"line":3,"column":118},"end":{"line":3,"column":125}},"loc":{"start":{"line":3,"column":131},"end":{"line":3,"column":153}},"line":3},"2":{"name":"_typeof","decl":{"start":{"line":3,"column":183},"end":{"line":3,"column":190}},"loc":{"start":{"line":3,"column":196},"end":{"line":3,"column":325}},"line":3},"3":{"name":"_interopRequireDefault","decl":{"start":{"line":11,"column":9},"end":{"line":11,"column":31}},"loc":{"start":{"line":11,"column":37},"end":{"line":11,"column":97}},"line":11},"4":{"name":"_getRequireWildcardCache","decl":{"start":{"line":13,"column":9},"end":{"line":13,"column":33}},"loc":{"start":{"line":13,"column":36},"end":{"line":13,"column":210}},"line":13},"5":{"name":"_getRequireWildcardCache","decl":{"start":{"line":13,"column":149},"end":{"line":13,"column":173}},"loc":{"start":{"line":13,"column":176},"end":{"line":13,"column":193}},"line":13},"6":{"name":"_interopRequireWildcard","decl":{"start":{"line":15,"column":9},"end":{"line":15,"column":32}},"loc":{"start":{"line":15,"column":38},"end":{"line":15,"column":750}},"line":15},"7":{"name":"(anonymous_7)","decl":{"start":{"line":22,"column":17},"end":{"line":22,"column":18}},"loc":{"start":{"line":22,"column":29},"end":{"line":24,"column":1}},"line":22}},"branchMap":{"0":{"loc":{"start":{"line":3,"column":24},"end":{"line":3,"column":328}},"type":"if","locations":[{"start":{"line":3,"column":24},"end":{"line":3,"column":328}},{"start":{"line":3,"column":24},"end":{"line":3,"column":328}}],"line":3},"1":{"loc":{"start":{"line":3,"column":28},"end":{"line":3,"column":95}},"type":"binary-expr","locations":[{"start":{"line":3,"column":28},"end":{"line":3,"column":56}},{"start":{"line":3,"column":60},"end":{"line":3,"column":95}}],"line":3},"2":{"loc":{"start":{"line":3,"column":205},"end":{"line":3,"column":322}},"type":"cond-expr","locations":[{"start":{"line":3,"column":301},"end":{"line":3,"column":309}},{"start":{"line":3,"column":312},"end":{"line":3,"column":322}}],"line":3},"3":{"loc":{"start":{"line":3,"column":205},"end":{"line":3,"column":298}},"type":"binary-expr","locations":[{"start":{"line":3,"column":205},"end":{"line":3,"column":208}},{"start":{"line":3,"column":212},"end":{"line":3,"column":240}},{"start":{"line":3,"column":244},"end":{"line":3,"column":270}},{"start":{"line":3,"column":274},"end":{"line":3,"column":298}}],"line":3},"4":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":94}},"type":"cond-expr","locations":[{"start":{"line":11,"column":70},"end":{"line":11,"column":73}},{"start":{"line":11,"column":76},"end":{"line":11,"column":94}}],"line":11},"5":{"loc":{"start":{"line":11,"column":46},"end":{"line":11,"column":67}},"type":"binary-expr","locations":[{"start":{"line":11,"column":46},"end":{"line":11,"column":49}},{"start":{"line":11,"column":53},"end":{"line":11,"column":67}}],"line":11},"6":{"loc":{"start":{"line":13,"column":38},"end":{"line":13,"column":85}},"type":"if","locations":[{"start":{"line":13,"column":38},"end":{"line":13,"column":85}},{"start":{"line":13,"column":38},"end":{"line":13,"column":85}}],"line":13},"7":{"loc":{"start":{"line":15,"column":40},"end":{"line":15,"column":82}},"type":"if","locations":[{"start":{"line":15,"column":40},"end":{"line":15,"column":82}},{"start":{"line":15,"column":40},"end":{"line":15,"column":82}}],"line":15},"8":{"loc":{"start":{"line":15,"column":44},"end":{"line":15,"column":65}},"type":"binary-expr","locations":[{"start":{"line":15,"column":44},"end":{"line":15,"column":47}},{"start":{"line":15,"column":51},"end":{"line":15,"column":65}}],"line":15},"9":{"loc":{"start":{"line":15,"column":83},"end":{"line":15,"column":189}},"type":"if","locations":[{"start":{"line":15,"column":83},"end":{"line":15,"column":189}},{"start":{"line":15,"column":83},"end":{"line":15,"column":189}}],"line":15},"10":{"loc":{"start":{"line":15,"column":87},"end":{"line":15,"column":157}},"type":"binary-expr","locations":[{"start":{"line":15,"column":87},"end":{"line":15,"column":99}},{"start":{"line":15,"column":103},"end":{"line":15,"column":128}},{"start":{"line":15,"column":132},"end":{"line":15,"column":157}}],"line":15},"11":{"loc":{"start":{"line":15,"column":230},"end":{"line":15,"column":285}},"type":"if","locations":[{"start":{"line":15,"column":230},"end":{"line":15,"column":285}},{"start":{"line":15,"column":230},"end":{"line":15,"column":285}}],"line":15},"12":{"loc":{"start":{"line":15,"column":234},"end":{"line":15,"column":257}},"type":"binary-expr","locations":[{"start":{"line":15,"column":234},"end":{"line":15,"column":239}},{"start":{"line":15,"column":243},"end":{"line":15,"column":257}}],"line":15},"13":{"loc":{"start":{"line":15,"column":331},"end":{"line":15,"column":387}},"type":"binary-expr","locations":[{"start":{"line":15,"column":331},"end":{"line":15,"column":352}},{"start":{"line":15,"column":356},"end":{"line":15,"column":387}}],"line":15},"14":{"loc":{"start":{"line":15,"column":412},"end":{"line":15,"column":667}},"type":"if","locations":[{"start":{"line":15,"column":412},"end":{"line":15,"column":667}},{"start":{"line":15,"column":412},"end":{"line":15,"column":667}}],"line":15},"15":{"loc":{"start":{"line":15,"column":477},"end":{"line":15,"column":549}},"type":"cond-expr","locations":[{"start":{"line":15,"column":501},"end":{"line":15,"column":542}},{"start":{"line":15,"column":545},"end":{"line":15,"column":549}}],"line":15},"16":{"loc":{"start":{"line":15,"column":551},"end":{"line":15,"column":665}},"type":"if","locations":[{"start":{"line":15,"column":551},"end":{"line":15,"column":665}},{"start":{"line":15,"column":551},"end":{"line":15,"column":665}}],"line":15},"17":{"loc":{"start":{"line":15,"column":555},"end":{"line":15,"column":585}},"type":"binary-expr","locations":[{"start":{"line":15,"column":555},"end":{"line":15,"column":559}},{"start":{"line":15,"column":564},"end":{"line":15,"column":572}},{"start":{"line":15,"column":576},"end":{"line":15,"column":584}}],"line":15},"18":{"loc":{"start":{"line":15,"column":695},"end":{"line":15,"column":733}},"type":"if","locations":[{"start":{"line":15,"column":695},"end":{"line":15,"column":733}},{"start":{"line":15,"column":695},"end":{"line":15,"column":733}}],"line":15},"19":{"loc":{"start":{"line":21,"column":11},"end":{"line":21,"column":35}},"type":"binary-expr","locations":[{"start":{"line":21,"column":11},"end":{"line":21,"column":27}},{"start":{"line":21,"column":31},"end":{"line":21,"column":35}}],"line":21}},"s":{"0":1,"1":1,"2":1,"3":0,"4":0,"5":1,"6":1,"7":1,"8":1,"9":2,"10":1,"11":0,"12":1,"13":1,"14":0,"15":1,"16":1,"17":0,"18":1,"19":0,"20":1,"21":1,"22":0,"23":1,"24":1,"25":1,"26":11,"27":11,"28":11,"29":0,"30":11,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1},"f":{"0":1,"1":1,"2":0,"3":2,"4":1,"5":0,"6":1,"7":1},"b":{"0":[1,0],"1":[1,1],"2":[0,0],"3":[0,0,0,0],"4":[2,0],"5":[2,2],"6":[0,1],"7":[0,1],"8":[1,1],"9":[0,1],"10":[1,1,1],"11":[0,1],"12":[1,1],"13":[1,1],"14":[11,0],"15":[11,0],"16":[0,11],"17":[11,11,11],"18":[1,0],"19":[1,1]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["app","use","userRoutes","announceRoutes","port","process","env","PORT","listen","console","log","module","exports"],"mappings":";;;;AAAA;;AACA;;AACA;;;;;;;;AAEA,IAAMA,GAAG,GAAG,0BAAZ;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AAEAD,GAAG,CAACC,GAAJ,CAAQ,eAAR,EAAyBC,gBAAzB;AACAF,GAAG,CAACC,GAAJ,CAAQ,uBAAR,EAAiCE,wBAAjC;AAEA,IAAMC,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYC,IAAZ,IAAoB,IAAjC;AACAP,GAAG,CAACQ,MAAJ,CAAWJ,IAAX,EAAiB;AAAA,SAAIK,OAAO,CAACC,GAAR,wBAA4BN,IAA5B,SAAJ;AAAA,CAAjB;AAEAO,MAAM,CAACC,OAAP,GAAiBZ,GAAjB","sourceRoot":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints","sourcesContent":["import express, { json } from 'express';\r\nimport userRoutes from './routes/user';\r\nimport announceRoutes from './routes/announcement';\r\n\r\nconst app = express();\r\napp.use(json());\r\n\r\napp.use('/api/v1/users', userRoutes);\r\napp.use('/api/v1/announcements', announceRoutes);\r\n\r\nconst port = process.env.PORT || 3333;\r\napp.listen(port, ()=>console.log(`Listening on ${port}...`));\r\n\r\nmodule.exports = app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ca76a927e4c3d4d8179af7ed1969de892b263164","contentHash":"224aa3112ce6e24b58ad502fa38ae4190940d2455d709e630ceb864791d03f60"},"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes\\user.js":{"path":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes\\user.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":20},"end":{"line":10,"column":67}},"4":{"start":{"line":12,"column":11},"end":{"line":12,"column":49}},"5":{"start":{"line":14,"column":16},"end":{"line":14,"column":59}},"6":{"start":{"line":16,"column":13},"end":{"line":16,"column":63}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}},"9":{"start":{"line":22,"column":10},"end":{"line":22,"column":32}},"10":{"start":{"line":23,"column":14},"end":{"line":23,"column":37}},"11":{"start":{"line":25,"column":19},"end":{"line":27,"column":1}},"12":{"start":{"line":26,"column":2},"end":{"line":26,"column":53}},"13":{"start":{"line":31,"column":21},"end":{"line":31,"column":49}},"14":{"start":{"line":33,"column":2},"end":{"line":43,"column":3}},"15":{"start":{"line":34,"column":17},"end":{"line":34,"column":40}},"16":{"start":{"line":35,"column":22},"end":{"line":35,"column":31}},"17":{"start":{"line":36,"column":4},"end":{"line":36,"column":28}},"18":{"start":{"line":37,"column":4},"end":{"line":37,"column":11}},"19":{"start":{"line":39,"column":4},"end":{"line":42,"column":7}},"20":{"start":{"line":46,"column":0},"end":{"line":92,"column":3}},"21":{"start":{"line":47,"column":15},"end":{"line":50,"column":3}},"22":{"start":{"line":52,"column":15},"end":{"line":52,"column":57}},"23":{"start":{"line":54,"column":2},"end":{"line":57,"column":3}},"24":{"start":{"line":55,"column":4},"end":{"line":55,"column":58}},"25":{"start":{"line":56,"column":4},"end":{"line":56,"column":11}},"26":{"start":{"line":59,"column":12},"end":{"line":61,"column":4}},"27":{"start":{"line":60,"column":4},"end":{"line":60,"column":46}},"28":{"start":{"line":63,"column":2},"end":{"line":91,"column":3}},"29":{"start":{"line":64,"column":4},"end":{"line":67,"column":7}},"30":{"start":{"line":69,"column":24},"end":{"line":69,"column":89}},"31":{"start":{"line":71,"column":4},"end":{"line":90,"column":5}},"32":{"start":{"line":72,"column":6},"end":{"line":75,"column":9}},"33":{"start":{"line":77,"column":18},"end":{"line":79,"column":8}},"34":{"start":{"line":81,"column":6},"end":{"line":89,"column":9}},"35":{"start":{"line":93,"column":0},"end":{"line":166,"column":3}},"36":{"start":{"line":94,"column":15},"end":{"line":102,"column":3}},"37":{"start":{"line":104,"column":15},"end":{"line":104,"column":57}},"38":{"start":{"line":106,"column":2},"end":{"line":109,"column":3}},"39":{"start":{"line":107,"column":4},"end":{"line":107,"column":58}},"40":{"start":{"line":108,"column":4},"end":{"line":108,"column":11}},"41":{"start":{"line":111,"column":19},"end":{"line":113,"column":4}},"42":{"start":{"line":112,"column":4},"end":{"line":112,"column":39}},"43":{"start":{"line":115,"column":2},"end":{"line":121,"column":3}},"44":{"start":{"line":116,"column":4},"end":{"line":119,"column":7}},"45":{"start":{"line":120,"column":4},"end":{"line":120,"column":11}},"46":{"start":{"line":123,"column":22},"end":{"line":125,"column":4}},"47":{"start":{"line":124,"column":4},"end":{"line":124,"column":45}},"48":{"start":{"line":127,"column":2},"end":{"line":133,"column":3}},"49":{"start":{"line":128,"column":4},"end":{"line":131,"column":7}},"50":{"start":{"line":132,"column":4},"end":{"line":132,"column":11}},"51":{"start":{"line":135,"column":16},"end":{"line":143,"column":3}},"52":{"start":{"line":144,"column":2},"end":{"line":144,"column":24}},"53":{"start":{"line":146,"column":14},"end":{"line":151,"column":4}},"54":{"start":{"line":153,"column":2},"end":{"line":164,"column":5}},"55":{"start":{"line":165,"column":2},"end":{"line":165,"column":46}},"56":{"start":{"line":167,"column":0},"end":{"line":169,"column":3}},"57":{"start":{"line":168,"column":2},"end":{"line":168,"column":32}},"58":{"start":{"line":170,"column":0},"end":{"line":193,"column":3}},"59":{"start":{"line":172,"column":13},"end":{"line":174,"column":4}},"60":{"start":{"line":173,"column":4},"end":{"line":173,"column":44}},"61":{"start":{"line":176,"column":2},"end":{"line":181,"column":3}},"62":{"start":{"line":177,"column":4},"end":{"line":180,"column":7}},"63":{"start":{"line":183,"column":2},"end":{"line":192,"column":5}},"64":{"start":{"line":194,"column":0},"end":{"line":226,"column":3}},"65":{"start":{"line":196,"column":13},"end":{"line":198,"column":4}},"66":{"start":{"line":197,"column":4},"end":{"line":197,"column":44}},"67":{"start":{"line":200,"column":2},"end":{"line":205,"column":3}},"68":{"start":{"line":201,"column":4},"end":{"line":204,"column":7}},"69":{"start":{"line":207,"column":15},"end":{"line":216,"column":3}},"70":{"start":{"line":218,"column":15},"end":{"line":218,"column":57}},"71":{"start":{"line":220,"column":2},"end":{"line":223,"column":3}},"72":{"start":{"line":221,"column":4},"end":{"line":221,"column":58}},"73":{"start":{"line":222,"column":4},"end":{"line":222,"column":11}},"74":{"start":{"line":225,"column":2},"end":{"line":225,"column":25}},"75":{"start":{"line":227,"column":15},"end":{"line":227,"column":18}},"76":{"start":{"line":228,"column":0},"end":{"line":228,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18},"1":{"name":"hashPassword","decl":{"start":{"line":25,"column":28},"end":{"line":25,"column":40}},"loc":{"start":{"line":25,"column":51},"end":{"line":27,"column":1}},"line":25},"2":{"name":"verifyToken","decl":{"start":{"line":29,"column":9},"end":{"line":29,"column":20}},"loc":{"start":{"line":29,"column":37},"end":{"line":44,"column":1}},"line":29},"3":{"name":"(anonymous_3)","decl":{"start":{"line":46,"column":19},"end":{"line":46,"column":20}},"loc":{"start":{"line":46,"column":39},"end":{"line":92,"column":1}},"line":46},"4":{"name":"(anonymous_4)","decl":{"start":{"line":59,"column":25},"end":{"line":59,"column":26}},"loc":{"start":{"line":59,"column":40},"end":{"line":61,"column":3}},"line":59},"5":{"name":"(anonymous_5)","decl":{"start":{"line":93,"column":20},"end":{"line":93,"column":21}},"loc":{"start":{"line":93,"column":40},"end":{"line":166,"column":1}},"line":93},"6":{"name":"(anonymous_6)","decl":{"start":{"line":111,"column":32},"end":{"line":111,"column":33}},"loc":{"start":{"line":111,"column":46},"end":{"line":113,"column":3}},"line":111},"7":{"name":"(anonymous_7)","decl":{"start":{"line":123,"column":35},"end":{"line":123,"column":36}},"loc":{"start":{"line":123,"column":49},"end":{"line":125,"column":3}},"line":123},"8":{"name":"(anonymous_8)","decl":{"start":{"line":167,"column":26},"end":{"line":167,"column":27}},"loc":{"start":{"line":167,"column":46},"end":{"line":169,"column":1}},"line":167},"9":{"name":"(anonymous_9)","decl":{"start":{"line":170,"column":16},"end":{"line":170,"column":17}},"loc":{"start":{"line":170,"column":36},"end":{"line":193,"column":1}},"line":170},"10":{"name":"(anonymous_10)","decl":{"start":{"line":172,"column":26},"end":{"line":172,"column":27}},"loc":{"start":{"line":172,"column":39},"end":{"line":174,"column":3}},"line":172},"11":{"name":"(anonymous_11)","decl":{"start":{"line":194,"column":29},"end":{"line":194,"column":30}},"loc":{"start":{"line":194,"column":49},"end":{"line":226,"column":1}},"line":194},"12":{"name":"(anonymous_12)","decl":{"start":{"line":196,"column":26},"end":{"line":196,"column":27}},"loc":{"start":{"line":196,"column":39},"end":{"line":198,"column":3}},"line":196}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":33,"column":2},"end":{"line":43,"column":3}},"type":"if","locations":[{"start":{"line":33,"column":2},"end":{"line":43,"column":3}},{"start":{"line":33,"column":2},"end":{"line":43,"column":3}}],"line":33},"3":{"loc":{"start":{"line":54,"column":2},"end":{"line":57,"column":3}},"type":"if","locations":[{"start":{"line":54,"column":2},"end":{"line":57,"column":3}},{"start":{"line":54,"column":2},"end":{"line":57,"column":3}}],"line":54},"4":{"loc":{"start":{"line":63,"column":2},"end":{"line":91,"column":3}},"type":"if","locations":[{"start":{"line":63,"column":2},"end":{"line":91,"column":3}},{"start":{"line":63,"column":2},"end":{"line":91,"column":3}}],"line":63},"5":{"loc":{"start":{"line":71,"column":4},"end":{"line":90,"column":5}},"type":"if","locations":[{"start":{"line":71,"column":4},"end":{"line":90,"column":5}},{"start":{"line":71,"column":4},"end":{"line":90,"column":5}}],"line":71},"6":{"loc":{"start":{"line":106,"column":2},"end":{"line":109,"column":3}},"type":"if","locations":[{"start":{"line":106,"column":2},"end":{"line":109,"column":3}},{"start":{"line":106,"column":2},"end":{"line":109,"column":3}}],"line":106},"7":{"loc":{"start":{"line":115,"column":2},"end":{"line":121,"column":3}},"type":"if","locations":[{"start":{"line":115,"column":2},"end":{"line":121,"column":3}},{"start":{"line":115,"column":2},"end":{"line":121,"column":3}}],"line":115},"8":{"loc":{"start":{"line":127,"column":2},"end":{"line":133,"column":3}},"type":"if","locations":[{"start":{"line":127,"column":2},"end":{"line":133,"column":3}},{"start":{"line":127,"column":2},"end":{"line":133,"column":3}}],"line":127},"9":{"loc":{"start":{"line":176,"column":2},"end":{"line":181,"column":3}},"type":"if","locations":[{"start":{"line":176,"column":2},"end":{"line":181,"column":3}},{"start":{"line":176,"column":2},"end":{"line":181,"column":3}}],"line":176},"10":{"loc":{"start":{"line":200,"column":2},"end":{"line":205,"column":3}},"type":"if","locations":[{"start":{"line":200,"column":2},"end":{"line":205,"column":3}},{"start":{"line":200,"column":2},"end":{"line":205,"column":3}}],"line":200},"11":{"loc":{"start":{"line":220,"column":2},"end":{"line":223,"column":3}},"type":"if","locations":[{"start":{"line":220,"column":2},"end":{"line":223,"column":3}},{"start":{"line":220,"column":2},"end":{"line":223,"column":3}}],"line":220}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":1,"9":1,"10":1,"11":1,"12":1,"13":2,"14":2,"15":0,"16":0,"17":0,"18":0,"19":2,"20":1,"21":3,"22":3,"23":3,"24":0,"25":0,"26":3,"27":12,"28":3,"29":1,"30":2,"31":2,"32":1,"33":1,"34":1,"35":1,"36":4,"37":4,"38":4,"39":1,"40":1,"41":3,"42":11,"43":3,"44":2,"45":2,"46":1,"47":3,"48":1,"49":0,"50":0,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":2,"60":5,"61":2,"62":1,"63":2,"64":1,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":1},"f":{"0":4,"1":1,"2":2,"3":3,"4":12,"5":4,"6":11,"7":3,"8":0,"9":2,"10":5,"11":0,"12":0},"b":{"0":[1,3],"1":[4,4],"2":[0,2],"3":[0,3],"4":[1,2],"5":[1,1],"6":[1,3],"7":[2,1],"8":[0,1],"9":[1,1],"10":[0,0],"11":[0,0]},"inputSourceMap":{"version":3,"sources":["user.js"],"names":["require","config","app","myUsers","dataModels","users","hashPassword","password","bcrypt","hashSync","verifyToken","req","res","next","bearerHeader","headers","bearer","split","bearerToken","token","status","json","Status","Error","post","schema","userName","Joi","string","min","required","replace","max","result","validate","body","error","send","details","message","acc","find","usr","username","checkPassword","compareSync","jwt","sign","process","env","JWT_KEY","expiresIn","Data","Id","id","UserName","value","Email","email","firstName","trim","lastName","phoneNumber","isAdmin","foundEmail","some","el","founduserName","newUser","length","firstname","lastname","phonenumber","push","FirstName","LastName","IsAdmin","console","log","get","user","c","parseInt","params","put","Date","now"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;AAEAA,OAAO,CAAC,QAAD,CAAP,CAAkBC,MAAlB;;AAEA,IAAMC,GAAG,GAAG,sBAAZ;AACA,IAAMC,OAAO,GAAGC,kBAAWC,KAA3B;;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,QAAQ;AAAA,SAAIC,qBAAOC,QAAP,CAAgBF,QAAhB,EAA0B,EAA1B,CAAJ;AAAA,CAA7B;;AAEA,SAASG,WAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+BC,IAA/B,EAAqC;AACjC;AACA,MAAMC,YAAY,GAAGH,GAAG,CAACI,OAAJ,CAAY,eAAZ,CAArB;;AACA,MAAI,OAAOD,YAAP,KAAwB,WAA5B,EAAyC;AACrC,QAAME,MAAM,GAAGF,YAAY,CAACG,KAAb,CAAmB,GAAnB,CAAf;AACA,QAAMC,WAAW,GAAGF,MAAM,CAAC,CAAD,CAA1B;AACAL,IAAAA,GAAG,CAACQ,KAAJ,GAAYD,WAAZ;AACAL,IAAAA,IAAI;AACP,GALD,MAMK;AACDD,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,cADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIH;AACJ;;AACDrB,GAAG,CAACsB,IAAJ,CAAS,QAAT,EAAmB,UAACb,GAAD,EAAMC,GAAN,EAAc;AAC7B,MAAMa,MAAM,GAAG;AACXC,IAAAA,QAAQ,EAAEC,gBAAIC,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,GAA+BC,OAA/B,CAAuC,KAAvC,EAA8C,EAA9C,CADC;AAEXxB,IAAAA,QAAQ,EAAEoB,gBAAIC,MAAJ,GAAaE,QAAb,GAAwBD,GAAxB,CAA4B,CAA5B,EAA+BG,GAA/B,CAAmC,EAAnC;AAFC,GAAf;;AAIA,MAAMC,MAAM,GAAGN,gBAAIO,QAAJ,CAAavB,GAAG,CAACwB,IAAjB,EAAuBV,MAAvB,CAAf;;AACA,MAAIQ,MAAM,CAACG,KAAX,EAAkB;AACdxB,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqBJ,MAAM,CAACG,KAAP,CAAaE,OAAb,CAAqB,CAArB,EAAwBC,OAA7C;AACA;AACH;;AACD,MAAMC,GAAG,GAAGrC,OAAO,CAACsC,IAAR,CAAa,UAAAC,GAAG;AAAA,WAAIA,GAAG,CAACC,QAAJ,KAAiBhC,GAAG,CAACwB,IAAJ,CAAST,QAA9B;AAAA,GAAhB,CAAZ;;AACA,MAAI,CAACc,GAAL,EAAU;AACN5B,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,WADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIH,GALD,MAKO;AACH,QAAMqB,aAAa,GAAGpC,qBAAOqC,WAAP,CAAmBlC,GAAG,CAACwB,IAAJ,CAAS5B,QAA5B,EAAsCiC,GAAG,CAACjC,QAA1C,CAAtB;;AACA,QAAI,CAACqC,aAAL,EAAoB;AAChBhC,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,QAAAA,MAAM,EAAE,cADS;AAEjBC,QAAAA,KAAK,EAAE;AAFU,OAArB;AAIH,KALD,MAMK;AACD,UAAMJ,KAAK,GAAG2B,yBAAIC,IAAJ,CACV5C,OAAO,CAAC,CAAD,CADG,EAEV6C,OAAO,CAACC,GAAR,CAAYC,OAFF,EAGV;AACIC,QAAAA,SAAS,EAAE;AADf,OAHU,CAAd;;AAOAvC,MAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,QAAAA,MAAM,EAAE,iCADS;AAEjB8B,QAAAA,IAAI,EAAE;AACFjC,UAAAA,KAAK,EAAEA,KADL;AAEFkC,UAAAA,EAAE,EAAEb,GAAG,CAACc,EAFN;AAGFC,UAAAA,QAAQ,EAAEtB,MAAM,CAACuB,KAAP,CAAa9B,QAHrB;AAIF+B,UAAAA,KAAK,EAAEjB,GAAG,CAACkB;AAJT;AAFW,OAArB;AAUH;AACJ;AAEJ,CA7CD;AA8CAxD,GAAG,CAACsB,IAAJ,CAAS,SAAT,EAAoB,UAACb,GAAD,EAAMC,GAAN,EAAc;AAC9B,MAAMa,MAAM,GAAG;AACXkC,IAAAA,SAAS,EAAEhC,gBAAIC,MAAJ,GAAagC,IAAb,GAAoB7B,OAApB,CAA4B,KAA5B,EAAmC,EAAnC,EAAuCD,QAAvC,EADA;AAEX+B,IAAAA,QAAQ,EAAElC,gBAAIC,MAAJ,GAAagC,IAAb,GAAoB7B,OAApB,CAA4B,KAA5B,EAAmC,EAAnC,EAAuCD,QAAvC,EAFC;AAGXJ,IAAAA,QAAQ,EAAEC,gBAAIC,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAHC;AAIX4B,IAAAA,KAAK,EAAE/B,gBAAIC,MAAJ,GACFgC,IADE,GAEFF,KAFE,GAGF5B,QAHE,EAJI;AAQXvB,IAAAA,QAAQ,EAAEoB,gBAAIC,MAAJ,GACLC,GADK,CACD,CADC,EAELG,GAFK,CAED,EAFC,EAGLF,QAHK,EARC;AAYXgC,IAAAA,WAAW,EAAEnC,gBAAIC,MAAJ,GACRC,GADQ,CACJ,EADI,EAERG,GAFQ,CAEJ,EAFI,CAZF;AAeX+B,IAAAA,OAAO,EAAEpC,wCAAsB,KAAtB;AAfE,GAAf;;AAkBA,MAAMM,MAAM,GAAGN,gBAAIO,QAAJ,CAAavB,GAAG,CAACwB,IAAjB,EAAuBV,MAAvB,CAAf;;AACA,MAAIQ,MAAM,CAACG,KAAX,EAAkB;AACdxB,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqBJ,MAAM,CAACG,KAAP,CAAaE,OAAb,CAAqB,CAArB,EAAwBC,OAA7C;AACA;AACH;;AAED,MAAMyB,UAAU,GAAG7D,OAAO,CAAC8D,IAAR,CAAa,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACR,KAAH,KAAa/C,GAAG,CAACwB,IAAJ,CAASuB,KAA1B;AAAA,GAAf,CAAnB;;AACA,MAAIM,UAAJ,EAAgB;AACZpD,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,UADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIA;AACH;;AACD,MAAM4C,aAAa,GAAGhE,OAAO,CAAC8D,IAAR,CAAa,UAAAC,EAAE;AAAA,WAAIA,EAAE,CAACvB,QAAH,KAAgBhC,GAAG,CAACwB,IAAJ,CAAST,QAA7B;AAAA,GAAf,CAAtB;;AACA,MAAIyC,aAAJ,EAAmB;AACfvD,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,UADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIA;AACH;;AAED,MAAM6C,OAAO,GAAG;AACZd,IAAAA,EAAE,EAAEnD,OAAO,CAACkE,MAAR,GAAiB,CADT;AAEZC,IAAAA,SAAS,EAAE3D,GAAG,CAACwB,IAAJ,CAASwB,SAFR;AAGZY,IAAAA,QAAQ,EAAE5D,GAAG,CAACwB,IAAJ,CAAS0B,QAHP;AAIZlB,IAAAA,QAAQ,EAAEhC,GAAG,CAACwB,IAAJ,CAAST,QAJP;AAKZgC,IAAAA,KAAK,EAAE/C,GAAG,CAACwB,IAAJ,CAASuB,KALJ;AAMZnD,IAAAA,QAAQ,EAAED,YAAY,CAACK,GAAG,CAACwB,IAAJ,CAAS5B,QAAV,CANV;AAOZiE,IAAAA,WAAW,EAAE7D,GAAG,CAACwB,IAAJ,CAAS2B;AAPV,GAAhB;AAUA3D,EAAAA,OAAO,CAACsE,IAAR,CAAaL,OAAb;;AAEA,MAAMjD,KAAK,GAAG2B,yBAAIC,IAAJ,EACV;AACA;AACIW,IAAAA,KAAK,EAAE/C,GAAG,CAACwB,IAAJ,CAASuB;AADpB,GAFU,EAKVV,OAAO,CAACC,GAAR,CAAYC,OALF,EAMV;AACIC,IAAAA,SAAS,EAAE;AADf,GANU,CAAd;;AAWAvC,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,IAAAA,MAAM,EAAE,2BADS;AAEjB8B,IAAAA,IAAI,EAAE;AACFjC,MAAAA,KAAK,EAAEA,KADL;AAEFkC,MAAAA,EAAE,EAAElD,OAAO,CAACkE,MAAR,GAAiB,CAFnB;AAGFK,MAAAA,SAAS,EAAEzC,MAAM,CAACuB,KAAP,CAAaG,SAHtB;AAIFgB,MAAAA,QAAQ,EAAE1C,MAAM,CAACuB,KAAP,CAAaK,QAJrB;AAKFN,MAAAA,QAAQ,EAAEtB,MAAM,CAACuB,KAAP,CAAa9B,QALrB;AAMF+B,MAAAA,KAAK,EAAExB,MAAM,CAACuB,KAAP,CAAaE,KANlB;AAOFkB,MAAAA,OAAO,EAAE3C,MAAM,CAACuB,KAAP,CAAaO;AAPpB;AAFW,GAArB;AAaAc,EAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACH,CA/ED;AAkFA5E,GAAG,CAAC6E,GAAJ,CAAQ,GAAR,EAAarE,WAAb,EAA0B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACpCA,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqBlC,OAArB;AACH,CAFD;AAIAD,GAAG,CAAC6E,GAAJ,CAAQ,MAAR,EAAgB,UAACpE,GAAD,EAAMC,GAAN,EAAc;AAC1B;AACA,MAAMoE,IAAI,GAAG7E,OAAO,CAACsC,IAAR,CAAa,UAAAwC,CAAC;AAAA,WAAIA,CAAC,CAAC3B,EAAF,KAAS4B,QAAQ,CAACvE,GAAG,CAACwE,MAAJ,CAAW7B,EAAZ,CAArB;AAAA,GAAd,CAAb;;AAEA,MAAI,CAAC0B,IAAL,EAAW;AACPpE,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,WADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIH;;AACDX,EAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,IAAAA,MAAM,EAAE,2BADS;AAEjB8B,IAAAA,IAAI,EAAE;AACFC,MAAAA,EAAE,EAAE2B,IAAI,CAAC1B,EADP;AAEFoB,MAAAA,SAAS,EAAEM,IAAI,CAACV,SAFd;AAGFK,MAAAA,QAAQ,EAAEK,IAAI,CAACT,QAHb;AAIFd,MAAAA,KAAK,EAAEuB,IAAI,CAACtB,KAJV;AAKFkB,MAAAA,OAAO,EAAEI,IAAI,CAACjB;AALZ;AAFW,GAArB;AAUH,CApBD;AAsBA7D,GAAG,CAACkF,GAAJ,CAAQ,MAAR,EAAgB1E,WAAhB,EAA6B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACvC;AACA,MAAMoE,IAAI,GAAG7E,OAAO,CAACsC,IAAR,CAAa,UAAAwC,CAAC;AAAA,WAAIA,CAAC,CAAC3B,EAAF,KAAS4B,QAAQ,CAACvE,GAAG,CAACwE,MAAJ,CAAW7B,EAAZ,CAArB;AAAA,GAAd,CAAb;;AACA,MAAI,CAAC0B,IAAL,EAAW;AACPpE,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACjBC,MAAAA,MAAM,EAAE,WADS;AAEjBC,MAAAA,KAAK,EAAE;AAFU,KAArB;AAIH;;AAED,MAAME,MAAM,GAAG;AACX4B,IAAAA,EAAE,EAAE1B,2BAAY0D,IAAI,CAACC,GAAL,EAAZ,CADO;AAEX3B,IAAAA,SAAS,EAAEhC,gBAAIC,MAAJ,GAAagC,IAAb,GAAoB7B,OAApB,CAA4B,KAA5B,EAAmC,EAAnC,CAFA;AAGX8B,IAAAA,QAAQ,EAAElC,gBAAIC,MAAJ,GAAagC,IAAb,GAAoB7B,OAApB,CAA4B,KAA5B,EAAmC,EAAnC,CAHC;AAIXL,IAAAA,QAAQ,EAAEC,gBAAIC,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,QAApB,EAJC;AAKX4B,IAAAA,KAAK,EAAE/B,gBAAIC,MAAJ,GAAaE,QAAb,EALI;AAMXvB,IAAAA,QAAQ,EAAEoB,gBAAIC,MAAJ,GAAaE,QAAb,GAAwBD,GAAxB,CAA4B,CAA5B,EAA+BG,GAA/B,CAAmC,EAAnC,CANC;AAOX8B,IAAAA,WAAW,EAAEnC,gBAAIC,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBG,GAArB,CAAyB,EAAzB,CAPF;AAQX+B,IAAAA,OAAO,EAAEpC,wCAAsB,KAAtB;AARE,GAAf;;AAUA,MAAMM,MAAM,GAAGN,gBAAIO,QAAJ,CAAavB,GAAG,CAACwB,IAAjB,EAAuBV,MAAvB,CAAf;;AACA,MAAIQ,MAAM,CAACG,KAAX,EAAkB;AACdxB,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBiB,IAAhB,CAAqBJ,MAAM,CAACG,KAAP,CAAaE,OAAb,CAAqB,CAArB,EAAwBC,OAA7C;AACA;AACH;;AAED3B,EAAAA,GAAG,CAACyB,IAAJ,CAASJ,MAAM,CAACuB,KAAhB;AACH,CA3BD;eA6BetD,G","sourceRoot":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes","sourcesContent":["import { Router } from 'express';\r\nimport jwt from 'jsonwebtoken';\r\nimport Joi from 'joi';\r\nimport bcrypt from 'bcryptjs';\r\nimport dataModels from '../models/index';\r\n\r\nrequire('dotenv').config();\r\n\r\nconst app = Router();\r\nconst myUsers = dataModels.users;\r\nconst hashPassword = password => bcrypt.hashSync(password, 10);\r\n\r\nfunction verifyToken(req, res, next) {\r\n    // eslint-disable-next-line dot-notation\r\n    const bearerHeader = req.headers['authorization'];\r\n    if (typeof bearerHeader !== 'undefined') {\r\n        const bearer = bearerHeader.split(' ');\r\n        const bearerToken = bearer[1];\r\n        req.token = bearerToken;\r\n        next();\r\n    }\r\n    else {\r\n        res.status(401).json({\r\n            Status: \"Unauthorized\",\r\n            Error: 'Access unauthorized'\r\n        });\r\n    }\r\n}\r\napp.post('/login', (req, res) => {\r\n    const schema = {\r\n        userName: Joi.string().min(6).required().replace(/\\s/g, \"\"),\r\n        password: Joi.string().required().min(8).max(25)\r\n    };\r\n    const result = Joi.validate(req.body, schema);\r\n    if (result.error) {\r\n        res.status(400).send(result.error.details[0].message);\r\n        return;\r\n    }\r\n    const acc = myUsers.find(usr => usr.username === req.body.userName);\r\n    if (!acc) {\r\n        res.status(404).json({\r\n            Status: \"Not found\",\r\n            Error: 'The user ID does not exist,Please sign up'\r\n        });\r\n    } else {\r\n        const checkPassword = bcrypt.compareSync(req.body.password, acc.password);\r\n        if (!checkPassword) {\r\n            res.status(401).json({\r\n                Status: \"Unauthorized\",\r\n                Error: 'The password you entered is incorrect'\r\n            });\r\n        }\r\n        else {\r\n            const token = jwt.sign(\r\n                myUsers[0],\r\n                process.env.JWT_KEY,\r\n                {\r\n                    expiresIn: \"2d\"\r\n                }\r\n            );\r\n            res.status(201).json({\r\n                Status: \"User was logged in successfully\",\r\n                Data: {\r\n                    token: token,\r\n                    Id: acc.id,\r\n                    UserName: result.value.userName,\r\n                    Email: acc.email\r\n                }\r\n\r\n            });\r\n        }\r\n    }\r\n\r\n});\r\napp.post('/signup', (req, res) => {\r\n    const schema = {\r\n        firstName: Joi.string().trim().replace(/\\s/g, \"\").required(),\r\n        lastName: Joi.string().trim().replace(/\\s/g, \"\").required(),\r\n        userName: Joi.string().min(3).required(),\r\n        email: Joi.string()\r\n            .trim()\r\n            .email()\r\n            .required(),\r\n        password: Joi.string()\r\n            .min(8)\r\n            .max(25)\r\n            .required(),\r\n        phoneNumber: Joi.string()\r\n            .min(10)\r\n            .max(12),\r\n        isAdmin: Joi.boolean().default(false)\r\n    };\r\n\r\n    const result = Joi.validate(req.body, schema);\r\n    if (result.error) {\r\n        res.status(400).send(result.error.details[0].message);\r\n        return;\r\n    }\r\n\r\n    const foundEmail = myUsers.some(el => el.email === req.body.email);\r\n    if (foundEmail) {\r\n        res.status(409).json({\r\n            Status: \"Conflict\",\r\n            Error: 'The user with the following Email address already exists'\r\n        });\r\n        return;\r\n    }\r\n    const founduserName = myUsers.some(el => el.username === req.body.userName);\r\n    if (founduserName) {\r\n        res.status(409).json({\r\n            Status: \"Conflict\",\r\n            Error: 'The user with the following User ID  already exists'\r\n        });\r\n        return;\r\n    }\r\n\r\n    const newUser = {\r\n        id: myUsers.length + 1,\r\n        firstname: req.body.firstName,\r\n        lastname: req.body.lastName,\r\n        username: req.body.userName,\r\n        email: req.body.email,\r\n        password: hashPassword(req.body.password),\r\n        phonenumber: req.body.phoneNumber,\r\n    };\r\n\r\n    myUsers.push(newUser);\r\n\r\n    const token = jwt.sign(\r\n        // myUsers[0],\r\n        {\r\n            email: req.body.email\r\n        },\r\n        process.env.JWT_KEY,\r\n        {\r\n            expiresIn: \"2d\"\r\n        }\r\n    );\r\n\r\n    res.status(201).json({\r\n        Status: \"User created successfully\",\r\n        Data: {\r\n            token: token,\r\n            Id: myUsers.length + 1,\r\n            FirstName: result.value.firstName,\r\n            LastName: result.value.lastName,\r\n            UserName: result.value.userName,\r\n            Email: result.value.email,\r\n            IsAdmin: result.value.isAdmin\r\n        },\r\n\r\n    });\r\n    console.log('User is created successfully');\r\n});\r\n\r\n\r\napp.get('/', verifyToken, (req, res) => {\r\n    res.status(200).send(myUsers);\r\n});\r\n\r\napp.get('/:id', (req, res) => {\r\n    // eslint-disable-next-line radix\r\n    const user = myUsers.find(c => c.id === parseInt(req.params.id));\r\n\r\n    if (!user) {\r\n        res.status(404).json({\r\n            Status: \"Not Found\",\r\n            Error: 'The user with given ID was not found'\r\n        });\r\n    }\r\n    res.status(200).json({\r\n        Status: \"User fetched successfully\",\r\n        Data: {\r\n            Id: user.id,\r\n            FirstName: user.firstname,\r\n            LastName: user.lastname,\r\n            Email: user.email,\r\n            IsAdmin: user.isAdmin\r\n        }\r\n    });\r\n});\r\n\r\napp.put('/:id', verifyToken, (req, res) => {\r\n    // eslint-disable-next-line radix\r\n    const user = myUsers.find(c => c.id === parseInt(req.params.id));\r\n    if (!user) {\r\n        res.status(403).json({\r\n            Status: \"Forbidden\",\r\n            Error: 'The user with the following ID does not exist'\r\n        });\r\n    }\r\n\r\n    const schema = {\r\n        Id: Joi.default(Date.now()),\r\n        firstName: Joi.string().trim().replace(/\\s/g, \"\"),\r\n        lastName: Joi.string().trim().replace(/\\s/g, \"\"),\r\n        userName: Joi.string().min(3).required(),\r\n        email: Joi.string().required(),\r\n        password: Joi.string().required().min(8).max(25),\r\n        phoneNumber: Joi.string().min(10).max(12),\r\n        isAdmin: Joi.boolean().default(false)\r\n    };\r\n    const result = Joi.validate(req.body, schema);\r\n    if (result.error) {\r\n        res.status(400).send(result.error.details[0].message);\r\n        return;\r\n    }\r\n\r\n    res.send(result.value);\r\n});\r\n\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d35c3282fda142b6556a774cf93de74dc127dc16","contentHash":"5ca12c65e1e295aa77bb812f1e2c5dc55227dc1a57b56bfdac0c248fb8cc9fd2"},"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\models\\index.js":{"path":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\models\\index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":7,"column":12},"end":{"line":34,"column":2}},"3":{"start":{"line":35,"column":20},"end":{"line":59,"column":2}},"4":{"start":{"line":60,"column":15},"end":{"line":63,"column":1}},"5":{"start":{"line":64,"column":0},"end":{"line":64,"column":30}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1},"f":{},"b":{},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["users","id","firstname","lastname","username","email","password","phonenumber","isAdmin","announcements","owner","status","text","start_date","end_date"],"mappings":";;;;;;AAAA,IAAMA,KAAK,GAAG,CACV;AACIC,EAAAA,EAAE,EAAC,CADP;AAEIC,EAAAA,SAAS,EAAG,SAFhB;AAGIC,EAAAA,QAAQ,EAAE,SAHd;AAIIC,EAAAA,QAAQ,EAAG,SAJf;AAKIC,EAAAA,KAAK,EAAE,mBALX;AAMIC,EAAAA,QAAQ,EAAG,UANf;AAOKC,EAAAA,WAAW,EAAC,YAPjB;AAQKC,EAAAA,OAAO,EAAC;AARb,CADU,EAWV;AACIP,EAAAA,EAAE,EAAC,CADP;AAEKC,EAAAA,SAAS,EAAG,WAFjB;AAGKC,EAAAA,QAAQ,EAAE,SAHf;AAIIC,EAAAA,QAAQ,EAAG,UAJf;AAKIC,EAAAA,KAAK,EAAE,mBALX;AAMIC,EAAAA,QAAQ,EAAG,UANf;AAOKC,EAAAA,WAAW,EAAC,YAPjB;AAQKC,EAAAA,OAAO,EAAC;AARb,CAXU,EAqBV;AACIP,EAAAA,EAAE,EAAC,CADP;AAEKC,EAAAA,SAAS,EAAG,SAFjB;AAGKC,EAAAA,QAAQ,EAAE,SAHf;AAIIC,EAAAA,QAAQ,EAAG,WAJf;AAKIC,EAAAA,KAAK,EAAC,oBALV;AAMKC,EAAAA,QAAQ,EAAG,OANhB;AAOKC,EAAAA,WAAW,EAAC,YAPjB;AAQKC,EAAAA,OAAO,EAAC;AARb,CArBU,CAAd;AAiCA,IAAMC,aAAa,GAAG,CAClB;AACIR,EAAAA,EAAE,EAAC,CADP;AAEIS,EAAAA,KAAK,EAAG,CAFZ;AAEe;AACXC,EAAAA,MAAM,EAAE,QAHZ;AAIIC,EAAAA,IAAI,EAAG,SAJX;AAKIC,EAAAA,UAAU,EAAG,YALjB;AAMKC,EAAAA,QAAQ,EAAC;AANd,CADkB,EAUlB;AACIb,EAAAA,EAAE,EAAC,CADP;AAEIS,EAAAA,KAAK,EAAG,CAFZ;AAEe;AACXC,EAAAA,MAAM,EAAE,QAHZ;AAIIC,EAAAA,IAAI,EAAG,SAJX;AAKIC,EAAAA,UAAU,EAAG,YALjB;AAMKC,EAAAA,QAAQ,EAAC;AANd,CAVkB,EAkBlB;AACIb,EAAAA,EAAE,EAAC,CADP;AAEIS,EAAAA,KAAK,EAAG,CAFZ;AAEe;AACXC,EAAAA,MAAM,EAAE,QAHZ;AAIIC,EAAAA,IAAI,EAAG,SAJX;AAKIC,EAAAA,UAAU,EAAG,YALjB;AAMKC,EAAAA,QAAQ,EAAC;AANd,CAlBkB,CAAtB;eA2Be;AAAEd,EAAAA,KAAK,EAALA,KAAF;AAASS,EAAAA,aAAa,EAAbA;AAAT,C","sourceRoot":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\models","sourcesContent":["const users = [\r\n    {\r\n        id:1, \r\n        firstname : 'norbert',\r\n        lastname: 'ishimwe',\r\n        username : 'norbert', \r\n        email: 'norbert@gmail.com',\r\n        password : 'norberty',\r\n         phonenumber:'0782467474', \r\n         isAdmin:'false'\r\n    },\r\n    {\r\n        id:2,\r\n         firstname : 'norbertoh',\r\n         lastname: 'ishimwe',\r\n        username : 'norberti', \r\n        email: 'norbert@gmail.com',\r\n        password : 'norberty',\r\n         phonenumber:'0782467474', \r\n         isAdmin:'false'\r\n    },\r\n    {\r\n        id:3,\r\n         firstname : 'norbert',\r\n         lastname: 'ishimwe',\r\n        username : 'norberthh',\r\n        email:'whatever@yahoo.com',\r\n         password : 'noerb',\r\n         phonenumber:'0782467474', \r\n         isAdmin:'false'\r\n    },\r\n];\r\n\r\nconst announcements = [\r\n    {\r\n        id:1, \r\n        owner : 1, //user id\r\n        status: 'active',\r\n        text : 'norbert', \r\n        start_date : '10/10/2020',\r\n         end_date:'5/5/2021', \r\n         \r\n    },\r\n    {\r\n        id:2,\r\n        owner : 1, //user id\r\n        status: 'active',\r\n        text : 'norbert', \r\n        start_date : '10/10/2020',\r\n         end_date:'5/5/2021', \r\n    },\r\n    {\r\n        id:3,\r\n        owner : 1, //user id\r\n        status: 'active',\r\n        text : 'norbert', \r\n        start_date : '10/10/2020',\r\n         end_date:'5/5/2021', \r\n    },\r\n];\r\nexport default { users, announcements };\r\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d5ae5e1f69ec2dc52d568ddff32fc8feca9bf0dc","contentHash":"bae88412e529a5da32643418f5e6e15e6927b4c026534d6152d778baca5e3fc2"},"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes\\announcement.js":{"path":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes\\announcement.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":28}},"2":{"start":{"line":8,"column":15},"end":{"line":8,"column":33}},"3":{"start":{"line":10,"column":11},"end":{"line":10,"column":49}},"4":{"start":{"line":12,"column":20},"end":{"line":12,"column":67}},"5":{"start":{"line":14,"column":17},"end":{"line":14,"column":62}},"6":{"start":{"line":16,"column":14},"end":{"line":16,"column":58}},"7":{"start":{"line":18,"column":39},"end":{"line":18,"column":95}},"8":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}},"9":{"start":{"line":23,"column":10},"end":{"line":23,"column":32}},"10":{"start":{"line":24,"column":18},"end":{"line":24,"column":50}},"11":{"start":{"line":28,"column":21},"end":{"line":28,"column":49}},"12":{"start":{"line":30,"column":2},"end":{"line":35,"column":3}},"13":{"start":{"line":31,"column":4},"end":{"line":34,"column":7}},"14":{"start":{"line":37,"column":15},"end":{"line":37,"column":38}},"15":{"start":{"line":38,"column":20},"end":{"line":38,"column":29}},"16":{"start":{"line":39,"column":2},"end":{"line":39,"column":26}},"17":{"start":{"line":41,"column":2},"end":{"line":47,"column":5}},"18":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"19":{"start":{"line":43,"column":6},"end":{"line":43,"column":54}},"20":{"start":{"line":46,"column":4},"end":{"line":46,"column":22}},"21":{"start":{"line":49,"column":2},"end":{"line":49,"column":16}},"22":{"start":{"line":52,"column":0},"end":{"line":54,"column":3}},"23":{"start":{"line":53,"column":2},"end":{"line":53,"column":24}},"24":{"start":{"line":55,"column":0},"end":{"line":78,"column":3}},"25":{"start":{"line":57,"column":21},"end":{"line":59,"column":4}},"26":{"start":{"line":58,"column":4},"end":{"line":58,"column":44}},"27":{"start":{"line":61,"column":2},"end":{"line":66,"column":3}},"28":{"start":{"line":62,"column":4},"end":{"line":65,"column":7}},"29":{"start":{"line":68,"column":2},"end":{"line":77,"column":5}},"30":{"start":{"line":79,"column":0},"end":{"line":114,"column":3}},"31":{"start":{"line":80,"column":15},"end":{"line":87,"column":3}},"32":{"start":{"line":89,"column":15},"end":{"line":89,"column":57}},"33":{"start":{"line":91,"column":2},"end":{"line":94,"column":3}},"34":{"start":{"line":92,"column":4},"end":{"line":92,"column":58}},"35":{"start":{"line":93,"column":4},"end":{"line":93,"column":11}},"36":{"start":{"line":96,"column":16},"end":{"line":96,"column":53}},"37":{"start":{"line":97,"column":2},"end":{"line":103,"column":5}},"38":{"start":{"line":104,"column":2},"end":{"line":113,"column":5}},"39":{"start":{"line":115,"column":0},"end":{"line":153,"column":3}},"40":{"start":{"line":117,"column":21},"end":{"line":119,"column":4}},"41":{"start":{"line":118,"column":4},"end":{"line":118,"column":44}},"42":{"start":{"line":121,"column":2},"end":{"line":126,"column":3}},"43":{"start":{"line":122,"column":4},"end":{"line":125,"column":7}},"44":{"start":{"line":128,"column":15},"end":{"line":134,"column":3}},"45":{"start":{"line":136,"column":15},"end":{"line":136,"column":57}},"46":{"start":{"line":138,"column":2},"end":{"line":141,"column":3}},"47":{"start":{"line":139,"column":4},"end":{"line":139,"column":58}},"48":{"start":{"line":140,"column":4},"end":{"line":140,"column":11}},"49":{"start":{"line":143,"column":2},"end":{"line":152,"column":5}},"50":{"start":{"line":154,"column":0},"end":{"line":194,"column":3}},"51":{"start":{"line":156,"column":21},"end":{"line":158,"column":4}},"52":{"start":{"line":157,"column":4},"end":{"line":157,"column":44}},"53":{"start":{"line":160,"column":2},"end":{"line":165,"column":3}},"54":{"start":{"line":161,"column":4},"end":{"line":164,"column":7}},"55":{"start":{"line":167,"column":18},"end":{"line":167,"column":34}},"56":{"start":{"line":168,"column":15},"end":{"line":174,"column":3}},"57":{"start":{"line":176,"column":15},"end":{"line":176,"column":57}},"58":{"start":{"line":178,"column":2},"end":{"line":182,"column":3}},"59":{"start":{"line":179,"column":4},"end":{"line":179,"column":58}},"60":{"start":{"line":181,"column":4},"end":{"line":181,"column":11}},"61":{"start":{"line":184,"column":2},"end":{"line":193,"column":5}},"62":{"start":{"line":195,"column":0},"end":{"line":219,"column":3}},"63":{"start":{"line":197,"column":21},"end":{"line":199,"column":4}},"64":{"start":{"line":198,"column":4},"end":{"line":198,"column":44}},"65":{"start":{"line":201,"column":2},"end":{"line":206,"column":3}},"66":{"start":{"line":202,"column":4},"end":{"line":205,"column":7}},"67":{"start":{"line":208,"column":14},"end":{"line":208,"column":47}},"68":{"start":{"line":209,"column":2},"end":{"line":209,"column":31}},"69":{"start":{"line":210,"column":2},"end":{"line":218,"column":5}},"70":{"start":{"line":220,"column":15},"end":{"line":220,"column":18}},"71":{"start":{"line":221,"column":0},"end":{"line":221,"column":30}}},"fnMap":{"0":{"name":"_interopRequireDefault","decl":{"start":{"line":18,"column":9},"end":{"line":18,"column":31}},"loc":{"start":{"line":18,"column":37},"end":{"line":18,"column":97}},"line":18},"1":{"name":"verifyToken","decl":{"start":{"line":26,"column":9},"end":{"line":26,"column":20}},"loc":{"start":{"line":26,"column":37},"end":{"line":50,"column":1}},"line":26},"2":{"name":"(anonymous_2)","decl":{"start":{"line":41,"column":66},"end":{"line":41,"column":67}},"loc":{"start":{"line":41,"column":91},"end":{"line":47,"column":3}},"line":41},"3":{"name":"(anonymous_3)","decl":{"start":{"line":52,"column":26},"end":{"line":52,"column":27}},"loc":{"start":{"line":52,"column":46},"end":{"line":54,"column":1}},"line":52},"4":{"name":"(anonymous_4)","decl":{"start":{"line":55,"column":29},"end":{"line":55,"column":30}},"loc":{"start":{"line":55,"column":49},"end":{"line":78,"column":1}},"line":55},"5":{"name":"(anonymous_5)","decl":{"start":{"line":57,"column":38},"end":{"line":57,"column":39}},"loc":{"start":{"line":57,"column":51},"end":{"line":59,"column":3}},"line":57},"6":{"name":"(anonymous_6)","decl":{"start":{"line":79,"column":27},"end":{"line":79,"column":28}},"loc":{"start":{"line":79,"column":47},"end":{"line":114,"column":1}},"line":79},"7":{"name":"(anonymous_7)","decl":{"start":{"line":115,"column":18},"end":{"line":115,"column":19}},"loc":{"start":{"line":115,"column":38},"end":{"line":153,"column":1}},"line":115},"8":{"name":"(anonymous_8)","decl":{"start":{"line":117,"column":38},"end":{"line":117,"column":39}},"loc":{"start":{"line":117,"column":51},"end":{"line":119,"column":3}},"line":117},"9":{"name":"(anonymous_9)","decl":{"start":{"line":154,"column":23},"end":{"line":154,"column":24}},"loc":{"start":{"line":154,"column":43},"end":{"line":194,"column":1}},"line":154},"10":{"name":"(anonymous_10)","decl":{"start":{"line":156,"column":38},"end":{"line":156,"column":39}},"loc":{"start":{"line":156,"column":51},"end":{"line":158,"column":3}},"line":156},"11":{"name":"(anonymous_11)","decl":{"start":{"line":195,"column":35},"end":{"line":195,"column":36}},"loc":{"start":{"line":195,"column":55},"end":{"line":219,"column":1}},"line":195},"12":{"name":"(anonymous_12)","decl":{"start":{"line":197,"column":38},"end":{"line":197,"column":39}},"loc":{"start":{"line":197,"column":51},"end":{"line":199,"column":3}},"line":197}},"branchMap":{"0":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":94}},"type":"cond-expr","locations":[{"start":{"line":18,"column":70},"end":{"line":18,"column":73}},{"start":{"line":18,"column":76},"end":{"line":18,"column":94}}],"line":18},"1":{"loc":{"start":{"line":18,"column":46},"end":{"line":18,"column":67}},"type":"binary-expr","locations":[{"start":{"line":18,"column":46},"end":{"line":18,"column":49}},{"start":{"line":18,"column":53},"end":{"line":18,"column":67}}],"line":18},"2":{"loc":{"start":{"line":30,"column":2},"end":{"line":35,"column":3}},"type":"if","locations":[{"start":{"line":30,"column":2},"end":{"line":35,"column":3}},{"start":{"line":30,"column":2},"end":{"line":35,"column":3}}],"line":30},"3":{"loc":{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":44,"column":5}},{"start":{"line":42,"column":4},"end":{"line":44,"column":5}}],"line":42},"4":{"loc":{"start":{"line":61,"column":2},"end":{"line":66,"column":3}},"type":"if","locations":[{"start":{"line":61,"column":2},"end":{"line":66,"column":3}},{"start":{"line":61,"column":2},"end":{"line":66,"column":3}}],"line":61},"5":{"loc":{"start":{"line":91,"column":2},"end":{"line":94,"column":3}},"type":"if","locations":[{"start":{"line":91,"column":2},"end":{"line":94,"column":3}},{"start":{"line":91,"column":2},"end":{"line":94,"column":3}}],"line":91},"6":{"loc":{"start":{"line":121,"column":2},"end":{"line":126,"column":3}},"type":"if","locations":[{"start":{"line":121,"column":2},"end":{"line":126,"column":3}},{"start":{"line":121,"column":2},"end":{"line":126,"column":3}}],"line":121},"7":{"loc":{"start":{"line":138,"column":2},"end":{"line":141,"column":3}},"type":"if","locations":[{"start":{"line":138,"column":2},"end":{"line":141,"column":3}},{"start":{"line":138,"column":2},"end":{"line":141,"column":3}}],"line":138},"8":{"loc":{"start":{"line":160,"column":2},"end":{"line":165,"column":3}},"type":"if","locations":[{"start":{"line":160,"column":2},"end":{"line":165,"column":3}},{"start":{"line":160,"column":2},"end":{"line":165,"column":3}}],"line":160},"9":{"loc":{"start":{"line":178,"column":2},"end":{"line":182,"column":3}},"type":"if","locations":[{"start":{"line":178,"column":2},"end":{"line":182,"column":3}},{"start":{"line":178,"column":2},"end":{"line":182,"column":3}}],"line":178},"10":{"loc":{"start":{"line":201,"column":2},"end":{"line":206,"column":3}},"type":"if","locations":[{"start":{"line":201,"column":2},"end":{"line":206,"column":3}},{"start":{"line":201,"column":2},"end":{"line":206,"column":3}}],"line":201}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":4,"8":1,"9":1,"10":1,"11":2,"12":2,"13":2,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":1,"40":1,"41":1,"42":1,"43":0,"44":1,"45":1,"46":1,"47":1,"48":1,"49":0,"50":1,"51":1,"52":1,"53":1,"54":0,"55":1,"56":1,"57":1,"58":1,"59":0,"60":0,"61":1,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":1},"f":{"0":4,"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":1,"8":1,"9":1,"10":1,"11":0,"12":0},"b":{"0":[1,3],"1":[4,4],"2":[2,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,1],"7":[1,0],"8":[0,1],"9":[0,1],"10":[0,0]},"inputSourceMap":{"version":3,"sources":["announcement.js"],"names":["require","config","app","myAnnounces","dataModels","announcements","verifyToken","req","res","next","bearerHeader","headers","status","json","Status","Error","bearer","split","bearerToken","token","jwt","verify","process","env","JWT_KEY","error","output","user","get","send","announcement","find","c","id","parseInt","params","Data","Id","Owner","owner","Text","text","Startdate","start_date","Enddate","end_date","post","schema","Joi","number","string","required","date","result","validate","body","details","message","decoded","push","length","value","lastName","patch","newStatus","query","index","indexOf","splice"],"mappings":"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","sourceRoot":"C:\\Users\\user\\Documents\\AnnounceIT\\AnnounceIT-API-Endpoints\\routes","sourcesContent":["import { Router } from 'express';\r\nimport Joi from 'joi';\r\nimport jwt from 'jsonwebtoken';\r\nimport jwtDecode from 'jwt-decode';\r\nimport dataModels from '../models';\r\n\r\n\r\nrequire('dotenv').config();\r\n// eslint-disable-next-line camelcase\r\n\r\n\r\nconst app = Router();\r\nconst myAnnounces = dataModels.announcements;\r\n\r\nfunction verifyToken(req, res, next) {\r\n    // eslint-disable-next-line dot-notation\r\n    const bearerHeader = req.headers['authorization'];\r\n    if (typeof bearerHeader == 'undefined'){   \r\n      return res.status(401).json({\r\n            Status : \"Forbidden\",\r\n            Error:'Access unauthorized'\r\n              });\r\n    }\r\n        const bearer = bearerHeader.split(' ');\r\n        const bearerToken = bearer[1];\r\n        req.token = bearerToken;\r\n    \r\n     jwt.verify(req.token, process.env.JWT_KEY, (error, output) => {\r\n        if (error) {\r\n          return res.status(401).json('Token is invalid');\r\n            } \r\n       req.user = output;\r\n    });\r\n        return next();    \r\n}\r\napp.get('/', verifyToken, (req, res)=>{\r\n    res.send(myAnnounces); \r\n});\r\n\r\napp.get('/:id', verifyToken, (req, res)=>{\r\n    // eslint-disable-next-line radix\r\n    const announcement = myAnnounces.find(c => c.id === parseInt(req.params.id));\r\n    if (!announcement){ \r\n         res.status(404).json({\r\n        Status : \"Forbidden\",\r\n        Error:'The announcement with given ID was not found'         \r\n      });\r\n    }\r\n   \r\n    res.status(200).json({\r\n        Status : \"Announcement fetched successfully\",\r\n        Data : {\r\n        Id : announcement.id,\r\n        Owner : announcement.owner,\r\n        Text: announcement.text,\r\n        Startdate: announcement.start_date,\r\n        Enddate:announcement.end_date\r\n      \r\n    }\r\n });\r\n  });\r\n\r\n\r\n  app.post('/', verifyToken, (req, res)=>{\r\n    const schema = {\r\n        id:Joi.number(),\r\n        owner:Joi.number().default(4),\r\n        status:Joi.string().default(\"pending\"),\r\n        text:Joi.string().required(),\r\n        start_date:Joi.date().required(),\r\n        end_date:Joi.date().required()\r\n    };\r\n    const result = Joi.validate(req.body, schema);\r\n \r\n\r\n    if(result.error){\r\n        res.status(400).json(result.error.details[0].message);\r\n        return;\r\n    }\r\n   const decoded = jwtDecode(req.token);\r\n   \r\n\r\n    myAnnounces.push({\r\n        id : myAnnounces.length + 1,\r\n        owner:decoded.id,\r\n        text:req.body.text,\r\n        start_date:req.body.start_date,\r\n        end_date:req.body.end_date\r\n    });\r\n   \r\n    res.status(201).json({\r\n        Status : \"Announcement created successfully\",\r\n        Data : {         \r\n        Id : myAnnounces.length + 1,\r\n        Owner : decoded.id,\r\n        Text: result.value.lastName,\r\n        Startdate: result.value.start_date,\r\n        Enddate:result.value.end_date\r\n       },\r\n    });\r\n});\r\n\r\napp.patch('/:id', (req, res) => {\r\n    // eslint-disable-next-line radix\r\n    const announcement = myAnnounces.find(c => c.id === parseInt(req.params.id));\r\n    if (!announcement) {\r\n    res.status(403).json({\r\n        Status : \"Forbidden\",\r\n        Error:'The announcement with the following ID does not exist'\r\n          });\r\n       }\r\n     \r\n    const schema = {\r\n        Id:Joi.number(),\r\n        //owner :Joi.number().required(),\r\n        text :Joi.string().required(),\r\n        start_date:Joi.date(),\r\n        end_date:Joi.date()\r\n    };\r\n\r\n    const result = Joi.validate(req.body, schema);\r\n    if(result.error){\r\n        res.status(400).send(result.error.details[0].message);\r\n        return;\r\n    }\r\n    \r\n    res.status(200).json({\r\n        Status : \"User updated successfully\",\r\n        Data : {\r\n        Id : result.value.Id,\r\n        Owner : req.user.output,\r\n        Text: result.value.text,\r\n        Startdate:result.value.start_date,\r\n        Enddate:result.value.end_date\r\n    }\r\n    });\r\n   \r\n\r\n});\r\n\r\napp.patch('/:id/sold', (req, res) => {\r\n    // eslint-disable-next-line radix\r\n    const announcement = myAnnounces.find(c => c.id === parseInt(req.params.id));\r\n    if (!announcement) {\r\n    res.status(403).json({\r\n        Status : \"Forbidden\",\r\n        Error:'The announcement with the following ID does not exist'\r\n          });\r\n       }\r\n       const newStatus = req.query.status;\r\n\r\n       const schema = {\r\n        Id:Joi.number(),\r\n        owner :Joi.number().default(3),\r\n        status :Joi.string().default(false),\r\n        start_date:Joi.date(),\r\n        end_date:Joi.date()\r\n    };\r\n    const result = Joi.validate(req.body, schema);\r\n    if(result.error){\r\n        res.status(400).send(result.error.details[0].message);\r\n        // eslint-disable-next-line no-useless-return\r\n        return;\r\n    }\r\n    res.status(200).json({\r\n        Status : \"Status updated successfully\",\r\n        Data : {\r\n            Id : result.value.id,\r\n        Owner : result.value.owner,\r\n        Status: newStatus,\r\n        Startdate:result.value.start_date,\r\n        Enddate:result.value.end_date\r\n    }\r\n    });\r\n});\r\n\r\napp.delete('/:id', verifyToken, (req, res) => {\r\n    // eslint-disable-next-line radix\r\n    const announcement = myAnnounces.find(c => c.id === parseInt(req.params.id));\r\n    if (!announcement) {\r\n    res.status(404).json({\r\n        Status : \"Not found\",\r\n        Error:'The announcement with the following ID does not exist'\r\n          });\r\n       }\r\n       const index = myAnnounces.indexOf(announcement);\r\n       myAnnounces.splice(index, 1);\r\n       res.status(200).json({\r\n           Status: \"Success\",\r\n            Data : {\r\n                Id : announcement.id,\r\n                owner : announcement.owner,\r\n                start_date : announcement.start_date,\r\n                end_date : announcement.end_date\r\n            }\r\n       });\r\n});\r\n\r\nexport default app;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"dfa170c8236fe7246ef590248a8e10ec57449619","contentHash":"2cbaec68f9fcbe7ae8af5a449c73a94764ceadf1d0f8a75bdfd9bc494a2ec53c"}}